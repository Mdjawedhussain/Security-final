{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/News/AddNews.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Editor, EditorState, RichUtils, convertToRaw } from \"draft-js\";\nimport \"draft-js/dist/Draft.css\";\nimport draftToHtml from \"draftjs-to-html\";\nimport TextEditor from \"../TextEditor\";\nimport toast from \"react-hot-toast\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AddNews() {\n  _s();\n\n  const navigate = useNavigate();\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [excerpt, setExcerpt] = useState(\"\");\n  const [thumbnail, setThumbnail] = useState(\"\");\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const [isNational, setIsNational] = useState(false);\n  const [isInternational, setIsInternational] = useState(false);\n  const [isSports, setIsSports] = useState(false);\n  const [isBreaking, setIsBreaking] = useState(false);\n  const [isBusiness, setIsBusiness] = useState(false); // editorstate\n\n  const onEditorStateChange = editorState => {\n    setEditorState(editorState);\n    setContent(draftToHtml(convertToRaw(editorState.getCurrentContent())));\n  }; // form submit\n\n\n  const submit = e => {\n    e.preventDefault();\n    console.log(content);\n    const config = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }; // formdata\n\n    const fdata = new FormData();\n    fdata.append(\"title\", title);\n    fdata.append(\"content\", content);\n    fdata.append(\"thumbnail\", thumbnail);\n    fdata.append(\"excerpt\", excerpt);\n    fdata.append(\"isNational\", isNational);\n    fdata.append(\"isInternational\", isInternational);\n    fdata.append(\"isSports\", isSports);\n    fdata.append(\"isBreaking\", isBreaking);\n    fdata.append(\"isBusiness\", isBusiness);\n    console.log(title, thumbnail, isBreaking, isBusiness, isInternational, isNational, isSports);\n    axios.post(\"http://localhost:90/news/insert\", fdata, config).then(res => {\n      console.log(res.data);\n\n      if (res.data.success) {\n        toast.success(\"News added!\");\n        navigate('/admin');\n      } else {\n        toast.error(\"Something went wrong on server!\");\n      }\n    }).catch(e => {\n      toast.error(\"Something went wrong!\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow-sm bg-white my-2 p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-center fw-light\",\n        children: \"Add News\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow-sm bg-white my-3 p-4 pt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"col-lg-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"exampleInputEmail1\",\n            class: \"form-label\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"exampleInputEmail1\",\n            \"aria-describedby\": \"emailHelp\",\n            value: title,\n            onChange: e => {\n              setTitle(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"exampleInputEmail1\",\n            class: \"form-label\",\n            children: \"Excerpt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            id: \"exampleInputEmail1\",\n            \"aria-describedby\": \"emailHelp\",\n            value: excerpt,\n            onChange: e => {\n              setExcerpt(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mb-3 p-2 border bg-white rounded-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"exampleInputPassword1\",\n            class: \"form-label\",\n            children: \"Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            hidden: true,\n            class: \"form-control\",\n            id: \"exampleInputPassword1\",\n            value: draftToHtml(convertToRaw(editorState.getCurrentContent())) // onChange={onContentChange}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"editor\",\n            children: /*#__PURE__*/_jsxDEV(TextEditor, {\n              onEditorStateChange: onEditorStateChange,\n              editorState: editorState\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"exampleInputPassword1\",\n            class: \"form-label\",\n            children: \"Thumbnail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: e => {\n              setThumbnail(e.target.files[0]);\n            },\n            class: \"form-control\",\n            id: \"exampleInputPassword1\",\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-check-input\",\n            type: \"checkbox\",\n            value: \"\",\n            id: \"flexCheckDefault\",\n            checked: isSports,\n            onChange: () => {\n              setIsSports(!isSports);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-check-label\",\n            for: \"flexCheckDefault\",\n            children: \"Sports\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-check-input\",\n            type: \"checkbox\",\n            value: \"\",\n            id: \"flexCheckChecked1\",\n            checked: isBusiness,\n            onChange: () => {\n              setIsBusiness(!isBusiness);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-check-label\",\n            for: \"flexCheckChecked1\",\n            children: \"Business\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-check-input\",\n            type: \"checkbox\",\n            value: \"\",\n            checked: isNational,\n            onChange: () => {\n              setIsNational(!isNational);\n            },\n            id: \"flexCheckChecked2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-check-label\",\n            for: \"flexCheckChecked2\",\n            children: \"National\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-check-input\",\n            type: \"checkbox\",\n            value: \"\",\n            id: \"flexCheckChecked3\",\n            checked: isInternational,\n            onChange: () => {\n              setIsInternational(!isInternational);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-check-label\",\n            for: \"flexCheckChecked3\",\n            children: \"International\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-check-input\",\n            type: \"checkbox\",\n            value: \"\",\n            id: \"flexCheckChecked3\",\n            checked: isBreaking,\n            onChange: () => {\n              setIsBreaking(!isBreaking);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-check-label\",\n            for: \"flexCheckChecked3\",\n            children: \"Breaking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: submit,\n          class: \"btn btn-danger btn-sm\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddNews, \"jbN89o7ivc70TLy3AlCJ61EwC/Y=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AddNews;\nexport default AddNews;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNews\");","map":{"version":3,"sources":["/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/News/AddNews.js"],"names":["React","useState","axios","Editor","EditorState","RichUtils","convertToRaw","draftToHtml","TextEditor","toast","useNavigate","AddNews","navigate","title","setTitle","content","setContent","excerpt","setExcerpt","thumbnail","setThumbnail","editorState","setEditorState","createEmpty","isNational","setIsNational","isInternational","setIsInternational","isSports","setIsSports","isBreaking","setIsBreaking","isBusiness","setIsBusiness","onEditorStateChange","getCurrentContent","submit","e","preventDefault","console","log","config","headers","Authorization","localStorage","getItem","fdata","FormData","append","post","then","res","data","success","error","catch","target","value","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Editor, EditorState, RichUtils, convertToRaw } from \"draft-js\";\nimport \"draft-js/dist/Draft.css\";\nimport draftToHtml from \"draftjs-to-html\";\nimport TextEditor from \"../TextEditor\";\nimport toast from \"react-hot-toast\";\nimport {useNavigate} from 'react-router-dom'\n\nfunction AddNews() {\n  const navigate = useNavigate();\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [excerpt, setExcerpt] = useState(\"\");\n  const [thumbnail, setThumbnail] = useState(\"\");\n  \n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  \n  const[isNational, setIsNational]=useState(false)\n  const[isInternational, setIsInternational]=useState(false)\n  const[isSports, setIsSports]=useState(false)\n  const[isBreaking, setIsBreaking]=useState(false)\n  const[isBusiness, setIsBusiness]=useState(false)\n\n  // editorstate\n  const onEditorStateChange = (editorState) => {\n    setEditorState(editorState);\n    setContent(\n      draftToHtml(convertToRaw(editorState.getCurrentContent()))\n      )\n\n  };\n\n\n  \n\n\n  // form submit\n  const submit = (e) => {\n    e.preventDefault();\n    \n   \n      console.log(content)\n\n\n    const config = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }\n\n    // formdata\n    const fdata = new FormData();\n    fdata.append(\"title\", title);\n    fdata.append(\"content\", content);\n    fdata.append(\"thumbnail\", thumbnail);\n    fdata.append(\"excerpt\", excerpt);\n    fdata.append(\"isNational\", isNational);\n    fdata.append(\"isInternational\", isInternational);\n    fdata.append(\"isSports\", isSports);\n    fdata.append(\"isBreaking\", isBreaking);\n    fdata.append(\"isBusiness\", isBusiness);\n    console.log(title, thumbnail,isBreaking, isBusiness,isInternational,isNational,isSports);\n\n    axios.post(\"http://localhost:90/news/insert\", fdata, config).then((res) => {\n      console.log(res.data)\n        if (res.data.success) {\n          toast.success(\"News added!\");\n          navigate('/admin')\n        } else {\n          toast.error(\"Something went wrong on server!\");\n        }\n      })\n      .catch((e) => {\n        toast.error(\"Something went wrong!\");\n      });\n  };\n\n  return (\n    <>\n    <div className=\"shadow-sm bg-white my-2 p-3\">\n    <h4 className=\"text-center fw-light\">Add News</h4>\n    </div>\n\n    <div className=\"shadow-sm bg-white my-3 p-4 pt-5\">\n    \n      <form className=\"col-lg-8 mx-auto\">\n        <div class=\"mb-3\">\n          <label for=\"exampleInputEmail1\" class=\"form-label\">\n            Title\n          </label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            value={title}\n            onChange={(e)=>{setTitle(e.target.value)}}\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"exampleInputEmail1\" class=\"form-label\">\n            Excerpt\n          </label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            value={excerpt}\n            onChange={(e)=>{setExcerpt(e.target.value)}}\n          />\n        </div>\n        <div class=\"mb-3 p-2 border bg-white rounded-3\">\n          <label for=\"exampleInputPassword1\" class=\"form-label\">\n            Content\n          </label>\n          <input\n            type=\"text\"\n            hidden\n            class=\"form-control\"\n            id=\"exampleInputPassword1\"\n            value={draftToHtml(convertToRaw(editorState.getCurrentContent()))}\n            // onChange={onContentChange}\n          />\n          <div className=\"editor\">\n            <TextEditor\n              onEditorStateChange={onEditorStateChange}\n              editorState={editorState}\n            />\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"exampleInputPassword1\" class=\"form-label\">\n            Thumbnail\n          </label>\n          <input type=\"file\"\n            onChange={(e)=>{setThumbnail(e.target.files[0])}} class=\"form-control\" id=\"exampleInputPassword1\" accept=\"image/*\" />\n        </div>\n        <hr />\n        <p>Category</p>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckDefault\"\n            checked={isSports}\n            onChange={()=>{setIsSports(!isSports)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckDefault\">\n            Sports\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckChecked1\"\n            checked={isBusiness}\n            onChange={()=>{setIsBusiness(!isBusiness)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked1\">\n            Business\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            checked={isNational}\n            onChange={()=>{setIsNational(!isNational)}}\n            id=\"flexCheckChecked2\"\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked2\">\n            National\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckChecked3\"\n            checked={isInternational}\n            onChange={()=>{setIsInternational(!isInternational)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked3\">\n            International\n          </label>\n        </div><hr/>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckChecked3\"\n            checked={isBreaking}\n            onChange={()=>{setIsBreaking(!isBreaking)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked3\">\n            Breaking\n          </label>\n        </div>\n        <hr />\n\n        <button type=\"submit\" onClick={submit} class=\"btn btn-danger btn-sm\">\n          Add\n        </button>\n      </form>\n      \n    </div>\n    </>\n  );\n}\n\nexport default AddNews;\n"]},"metadata":{},"sourceType":"module"}