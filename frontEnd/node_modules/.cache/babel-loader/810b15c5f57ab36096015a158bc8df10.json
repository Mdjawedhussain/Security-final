{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Category/Category.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport NewsCard from \"../News/NewsCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Category = () => {\n  _s();\n\n  const [news, setNews] = useState([]);\n  const [usersavings, setUserSavings] = useState([]);\n  const uid = localStorage.getItem(\"userid\");\n  console.log(uid);\n  const {\n    category\n  } = useParams();\n  var logo;\n\n  if (category == 'national') {\n    logo = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"bg-white shadow-sm p-4 my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-users text-info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 5\n        }, this), \" \", \"National News\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  } else if (category == 'international') {\n    logo = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"bg-white shadow-sm p-4 my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-earth-asia text-primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 5\n        }, this), \" \", \"International News\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  } else if (category == 'sports') {\n    logo = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"bg-white shadow-sm p-4 my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-basketball text-danger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 5\n        }, this), \" \", \"Sports News\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  } else {\n    logo = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"bg-white shadow-sm p-4 my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-money-bill text-success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this), \" \", \"Business News\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  }\n\n  const config = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n    }\n  };\n\n  const fetchNews = () => {\n    return axios.get(\"http://localhost:3000/news/category/\" + category, config);\n  };\n\n  const getNews = async () => {\n    const res = await fetchNews();\n    setNews(res.data.data);\n    console.log(news);\n  };\n\n  const getUser = () => {\n    axios.get(\"http://localhost:90/customer/\" + uid, config).then(res => {\n      setUserSavings(res.data.data.savelaters);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"I am alive\");\n    callback();\n  }, []);\n\n  const callback = () => {\n    getNews();\n    getUser();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [logo, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" bg-white shadow-sm p-2 my-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row p-2\",\n        children: news.map((item, index) => /*#__PURE__*/_jsxDEV(NewsCard, {\n          newsitem: item,\n          usersavings: usersavings,\n          callback: callback\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Category, \"8ZxsYWglxtTFcJ5HixoHd7q1DJ0=\", false, function () {\n  return [useParams];\n});\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Category/Category.js"],"names":["axios","useEffect","useState","useParams","NewsCard","Category","news","setNews","usersavings","setUserSavings","uid","localStorage","getItem","console","log","category","logo","config","headers","Authorization","fetchNews","get","getNews","res","data","getUser","then","savelaters","catch","e","callback","map","item","index"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport NewsCard from \"../News/NewsCard\";\n\nconst Category = () => {\n  const [news, setNews] = useState([]);\n  const [usersavings, setUserSavings] = useState([]);\n  const uid = localStorage.getItem(\"userid\");\n  console.log(uid);\n\n  const { category } = useParams();\n\n  var logo\n  if(category == 'national'){\n    logo = (<>\n    <h3 className=\"bg-white shadow-sm p-4 my-2\">\n    <i className=\"fa-solid fa-users text-info\"></i>{\" \"}\n        National News\n      </h3>\n    </>\n      )\n  }\n  else if(category == 'international'){\n    logo = (<>\n    <h3 className=\"bg-white shadow-sm p-4 my-2\">\n    <i className=\"fa-solid fa-earth-asia text-primary\"></i>{\" \"}\n        International News\n      </h3>\n    </>\n      )\n  }\n  else if(category == 'sports'){\n    logo = (<>\n    <h3 className=\"bg-white shadow-sm p-4 my-2\">\n    <i className=\"fa-solid fa-basketball text-danger\"></i>{\" \"}\n        Sports News\n      </h3>\n    </>\n      )\n  }\n  else{\n    logo = (<>\n    <h3 className=\"bg-white shadow-sm p-4 my-2\">\n        <i className=\"fa-solid fa-money-bill text-success\" ></i>{\" \"}\n        Business News\n      </h3>\n    </>\n      )\n  }\n    \n  \n\n  const config = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n    },\n  };\n\n  const fetchNews = () => {\n    return axios.get(\"http://localhost:3000/news/category/\" + category, config);\n  };\n\n  const getNews = async () => {\n    const res = await fetchNews();\n    setNews(res.data.data);\n    console.log(news);\n  };\n\n  const getUser = () => {\n    axios\n      .get(\"http://localhost:90/customer/\" + uid, config)\n      .then((res) => {\n        setUserSavings(res.data.data.savelaters);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  useEffect(() => {\n    console.log(\"I am alive\");\n    callback();\n  }, []);\n\n  const callback = () => {\n    getNews();\n    getUser();\n  };\n\n\n  return (\n    <div className=\"container\">\n      {logo}\n      <div className=\" bg-white shadow-sm p-2 my-2\">\n        <div className=\"row p-2\">\n          {news.map((item, index) => (\n            <NewsCard\n              key={index}\n              newsitem={item}\n              usersavings={usersavings}\n              callback={callback}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}