{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Admin/NewsItem.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport dateFormat from \"dateformat\";\nimport DOMPurify from \"dompurify\";\nimport { ContentState, EditorState, convertFromHTML, convertToRaw } from 'draft-js';\nimport 'draft-js/dist/Draft.css';\nimport draftToHtml from \"draftjs-to-html\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport TextEditor from '../TextEditor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction NewsItem(props) {\n  _s();\n\n  // variable initialioze\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [excerpt, setExcerpt] = useState('');\n  const [thumbnail, setThumbnail] = useState('');\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const [isNational, setIsNational] = useState(false);\n  const [isInternational, setIsInternational] = useState(false);\n  const [isSports, setIsSports] = useState(false);\n  const [isBreaking, setIsBreaking] = useState(false);\n  const [isBusiness, setIsBusiness] = useState(false);\n  const [dthumbnail, setDThumbnail] = useState(''); // change thumbnail event\n\n  const onThumbnailChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      setDThumbnail(URL.createObjectURL(event.target.files[0]));\n      setThumbnail(event.target.files[0]);\n    }\n  };\n\n  useEffect(() => {\n    setTitle(props.newsitem.title);\n    setContent(props.newsitem.content);\n    setExcerpt(props.newsitem.excerpt);\n    setThumbnail(props.newsitem.thumbnail);\n    setDThumbnail('http://localhost:3000/' + props.newsitem.thumbnail);\n    setIsBreaking(props.newsitem.isBreaking);\n    setIsNational(props.newsitem.isNational);\n    setIsInternational(props.newsitem.isInternational);\n    setIsBusiness(props.newsitem.isBusiness);\n    setIsSports(props.newsitem.isSports); // console.log('------------------------>',props.newsitem.isBreaking, isBreaking.toString())\n\n    const blocksFromHTML = convertFromHTML(props.newsitem.content);\n    const state = ContentState.createFromBlockArray(blocksFromHTML.contentBlocks, blocksFromHTML.entityMap);\n    setEditorState( // EditorState.createWithContent(ContentState.createFromText(result.data.data.description))\n    EditorState.createWithContent(state));\n  }, []); // editor statechange\n\n  const onEditorStateChange = editorState => {\n    setEditorState(editorState);\n    setContent(draftToHtml(convertToRaw(editorState.getCurrentContent())));\n  };\n\n  const config = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n    }\n  };\n\n  const createMarkup = html => {\n    return {\n      __html: DOMPurify.sanitize(html)\n    };\n  };\n\n  const deleteNews = () => {\n    axios.delete(\"http://localhost:90/news/delete/\" + props.newsitem._id, config).then(res => {\n      if (res.data.success) {\n        toast.success(\"News Deleted\");\n        props.callback();\n      }\n    });\n  };\n\n  const updateNews = e => {\n    e.preventDefault();\n    console.log(content);\n    const config = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }; // formdata\n\n    const fdata = new FormData();\n    fdata.append(\"title\", title);\n    fdata.append(\"content\", content);\n    fdata.append(\"thumbnail\", thumbnail);\n    fdata.append(\"excerpt\", excerpt);\n    fdata.append(\"isNational\", isNational);\n    fdata.append(\"isInternational\", isInternational);\n    fdata.append(\"isSports\", isSports);\n    fdata.append(\"isBreaking\", isBreaking);\n    fdata.append(\"isBusiness\", isBusiness); // console.log(title, thumbnail);\n\n    axios.put(\"http://localhost:90/news/update/\" + props.newsitem._id, fdata, config).then(res => {\n      console.log(res.data);\n\n      if (res.data.success) {\n        toast.success(\"News Updated!\");\n        props.callback();\n      } else {\n        toast.error(\"Something went wrong on server!\");\n      }\n    }).catch(e => {\n      toast.error(\"Something went wrong!\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"row\",\n        children: props.sn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: props.newsitem.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: dateFormat(props.newsitem.created_date, \"dddd, mmmm dS, yyyy\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info text-white btn-sm me-2\",\n            \"data-bs-toggle\": \"modal\",\n            \"data-bs-target\": \"#exampleModal\" + props.sn,\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success btn-sm me-2\",\n            \"data-bs-toggle\": \"modal\",\n            \"data-bs-target\": \"#exampleModal1\" + props.sn,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-danger btn-sm me-2\",\n            onClick: deleteNews,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-trash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"modal fade\",\n      id: \"exampleModal\" + props.sn,\n      tabindex: \"-1\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal-dialog modal-dialog-scrollable\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"modal-title\",\n              id: \"exampleModalLabel\",\n              children: props.newsitem.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn-close\",\n              \"data-bs-dismiss\": \"modal\",\n              \"aria-label\": \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-body\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              dangerouslySetInnerHTML: createMarkup(props.newsitem.content)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-secondary\",\n              \"data-bs-dismiss\": \"modal\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"modal fade\",\n      id: \"exampleModal1\" + props.sn,\n      tabindex: \"-1\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal-dialog modal-dialog-scrollable\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"modal-title\",\n              id: \"exampleModalLabel\",\n              children: [\"Update: \", props.newsitem.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn-close\",\n              \"data-bs-dismiss\": \"modal\",\n              \"aria-label\": \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"col-lg-8 mx-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  class: \"form-label\",\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  id: \"exampleInputEmail1\",\n                  \"aria-describedby\": \"emailHelp\",\n                  value: title,\n                  onChange: e => {\n                    setTitle(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputEmail1\",\n                  class: \"form-label\",\n                  children: \"Excerpt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  id: \"exampleInputEmail1\",\n                  \"aria-describedby\": \"emailHelp\",\n                  value: excerpt,\n                  onChange: e => {\n                    setExcerpt(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3 p-2 border bg-white rounded-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputPassword1\",\n                  class: \"form-label\",\n                  children: \"Content\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  hidden: true,\n                  onChange: e => e.target.value,\n                  class: \"form-control\",\n                  id: \"exampleInputPassword1\",\n                  value: content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"editor\",\n                  children: /*#__PURE__*/_jsxDEV(TextEditor, {\n                    onEditorStateChange: onEditorStateChange,\n                    editorState: editorState\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"exampleInputPassword1\",\n                  class: \"form-label\",\n                  children: \"Thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: dthumbnail,\n                  className: \"my-2\",\n                  style: {\n                    'height': \"10em\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  onChange: onThumbnailChange,\n                  class: \"form-control\",\n                  id: \"exampleInputPassword1\",\n                  accept: \"image/*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-check-input\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  id: \"flexCheckDefault\",\n                  defaultChecked: props.newsitem.isSports,\n                  onChange: () => {\n                    setIsSports(!isSports);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-check-label\",\n                  for: \"flexCheckDefault\",\n                  children: \"Sports\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-check-input\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  id: \"flexCheckChecked1\",\n                  defaultChecked: props.newsitem.isBusiness,\n                  onChange: () => {\n                    setIsBusiness(!isBusiness);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-check-label\",\n                  for: \"flexCheckChecked1\",\n                  children: \"Business\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-check-input\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  defaultChecked: props.newsitem.isNational,\n                  onChange: () => {\n                    setIsNational(!isNational);\n                  },\n                  id: \"flexCheckChecked2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-check-label\",\n                  for: \"flexCheckChecked2\",\n                  children: \"National\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-check-input\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  id: \"flexCheckChecked3\",\n                  defaultChecked: props.newsitem.isInternational,\n                  onChange: () => {\n                    setIsInternational(!isInternational);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-check-label\",\n                  for: \"flexCheckChecked3\",\n                  children: \"International\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-check-input\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  id: \"flexCheckChecked3\",\n                  defaultChecked: props.newsitem.isBreaking,\n                  onChange: () => {\n                    setIsBreaking(!isBreaking);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-check-label\",\n                  for: \"flexCheckChecked3\",\n                  children: \"Breaking\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-outline-danger btn-sm\",\n              \"data-bs-dismiss\": \"modal\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-success btn-sm \",\n              \"data-bs-dismiss\": \"modal\",\n              onClick: updateNews,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NewsItem, \"SGBKKz0htE+i9wHpg4TBekCIFH0=\");\n\n_c = NewsItem;\nexport default NewsItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewsItem\");","map":{"version":3,"sources":["/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Admin/NewsItem.js"],"names":["axios","dateFormat","DOMPurify","ContentState","EditorState","convertFromHTML","convertToRaw","draftToHtml","useEffect","useState","toast","TextEditor","NewsItem","props","title","setTitle","content","setContent","excerpt","setExcerpt","thumbnail","setThumbnail","editorState","setEditorState","createEmpty","isNational","setIsNational","isInternational","setIsInternational","isSports","setIsSports","isBreaking","setIsBreaking","isBusiness","setIsBusiness","dthumbnail","setDThumbnail","onThumbnailChange","event","target","files","URL","createObjectURL","newsitem","blocksFromHTML","state","createFromBlockArray","contentBlocks","entityMap","createWithContent","onEditorStateChange","getCurrentContent","config","headers","Authorization","localStorage","getItem","createMarkup","html","__html","sanitize","deleteNews","delete","_id","then","res","data","success","callback","updateNews","e","preventDefault","console","log","fdata","FormData","append","put","error","catch","sn","created_date","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport dateFormat from \"dateformat\";\nimport DOMPurify from \"dompurify\";\nimport { ContentState, EditorState, convertFromHTML, convertToRaw } from 'draft-js';\nimport 'draft-js/dist/Draft.css';\nimport draftToHtml from \"draftjs-to-html\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport TextEditor from '../TextEditor';\n\nfunction NewsItem(props) {\n  // variable initialioze\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [excerpt, setExcerpt] = useState('');\n  const [thumbnail, setThumbnail] = useState('');\n\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n  const [isNational, setIsNational] = useState(false);\n  const [isInternational, setIsInternational] = useState(false);\n  const [isSports, setIsSports] = useState(false);\n  const [isBreaking, setIsBreaking] = useState(false);\n  const [isBusiness, setIsBusiness] = useState(false);\n  const [dthumbnail, setDThumbnail] = useState('');\n\n  // change thumbnail event\n  const onThumbnailChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n        setDThumbnail(URL.createObjectURL(event.target.files[0]));\n        setThumbnail(event.target.files[0]);\n    }\n    \n}\n\n  \n\n  useEffect(()=>{\n    setTitle(props.newsitem.title)\n    setContent(props.newsitem.content)\n    setExcerpt(props.newsitem.excerpt)\n    setThumbnail(props.newsitem.thumbnail)\n    setDThumbnail('http://localhost:3000/' + props.newsitem.thumbnail)\n\n    setIsBreaking(props.newsitem.isBreaking)\n    setIsNational(props.newsitem.isNational)\n    setIsInternational(props.newsitem.isInternational)\n    setIsBusiness(props.newsitem.isBusiness)\n    setIsSports(props.newsitem.isSports)\n    // console.log('------------------------>',props.newsitem.isBreaking, isBreaking.toString())\n    const blocksFromHTML = convertFromHTML(props.newsitem.content);\n  const state = ContentState.createFromBlockArray(\n      blocksFromHTML.contentBlocks,\n      blocksFromHTML.entityMap,\n  );\n  setEditorState(\n      // EditorState.createWithContent(ContentState.createFromText(result.data.data.description))\n      EditorState.createWithContent(state)\n  )\n  },[])\n\n  // editor statechange\n  const onEditorStateChange = (editorState) => {\n    setEditorState(editorState);\n    setContent(\n        draftToHtml(convertToRaw(editorState.getCurrentContent()))\n    )};\n\n  const config = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n    },\n  };\n\n  const createMarkup = (html) => {\n    return {\n      __html: DOMPurify.sanitize(html),\n    };\n  };\n\n  const deleteNews = () => {\n    axios\n      .delete(\"http://localhost:90/news/delete/\" + props.newsitem._id, config)\n      .then((res) => {\n        if (res.data.success) {\n          toast.success(\"News Deleted\");\n          props.callback();\n        }\n      });\n  };\n\n  const updateNews = (e) => {\n    e.preventDefault();\n\n    console.log(content);\n\n    const config = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    };\n\n    // formdata\n    const fdata = new FormData();\n    fdata.append(\"title\", title);\n    fdata.append(\"content\", content);\n    fdata.append(\"thumbnail\", thumbnail);\n    fdata.append(\"excerpt\", excerpt);\n    fdata.append(\"isNational\", isNational);\n    fdata.append(\"isInternational\", isInternational);\n    fdata.append(\"isSports\", isSports);\n    fdata.append(\"isBreaking\", isBreaking);\n    fdata.append(\"isBusiness\", isBusiness);\n    // console.log(title, thumbnail);\n\n    axios\n      .put(\n        \"http://localhost:90/news/update/\" + props.newsitem._id,\n        fdata,\n        config\n      )\n      .then((res) => {\n        console.log(res.data);\n        if (res.data.success) {\n          toast.success(\"News Updated!\");\n          props.callback();\n        } else {\n          toast.error(\"Something went wrong on server!\");\n        }\n      })\n      .catch((e) => {\n        toast.error(\"Something went wrong!\");\n      });\n  };\n\n  return (\n    <>\n      <tr className=\"text-center\">\n      \n        <th scope=\"row\">{props.sn}</th>\n        <td>{props.newsitem.title}</td>\n        {/* <td>{props.newsitem.date}</td> */}\n        <td>{dateFormat(props.newsitem.created_date, \"dddd, mmmm dS, yyyy\")}</td>\n        <td>\n          <div className=\"btn-group\">\n            <button\n              className=\"btn btn-info text-white btn-sm me-2\"\n              data-bs-toggle=\"modal\"\n              data-bs-target={\"#exampleModal\" + props.sn}\n            >\n              Details\n            </button>\n            <button\n              className=\"btn btn-success btn-sm me-2\"\n              data-bs-toggle=\"modal\"\n              data-bs-target={\"#exampleModal1\" + props.sn}\n            >\n              Update\n            </button>\n            <button\n              className=\"btn btn-outline-danger btn-sm me-2\"\n              onClick={deleteNews}\n            >\n              <i className=\"fa fa-trash\"></i>\n            </button>\n          </div>\n        </td>\n      </tr>\n\n      <div\n        class=\"modal fade\"\n        id={\"exampleModal\" + props.sn}\n        tabindex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog modal-dialog-scrollable\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                {props.newsitem.title}\n              </h5>\n              <button\n                type=\"button\"\n                class=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div class=\"modal-body\">\n              <p\n                dangerouslySetInnerHTML={createMarkup(props.newsitem.content)}\n              ></p>\n            </div>\n            <div class=\"modal-footer\">\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n\n\n      <div\n        class=\"modal fade\"\n        id={\"exampleModal1\" + props.sn}\n        tabindex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog modal-dialog-scrollable\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                Update: {props.newsitem.title}\n              </h5>\n              <button\n                type=\"button\"\n                class=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div class=\"modal-body\">\n\n\n            <form className=\"col-lg-8 mx-auto\">\n        <div class=\"mb-3\">\n          <label for=\"exampleInputEmail1\" class=\"form-label\">\n            Title\n          </label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            value={title}\n            onChange={(e)=>{setTitle(e.target.value)}}\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"exampleInputEmail1\" class=\"form-label\">\n            Excerpt\n          </label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            value={excerpt}\n            onChange={(e)=>{setExcerpt(e.target.value)}}\n          />\n        </div>\n        <div class=\"mb-3 p-2 border bg-white rounded-3\">\n          <label for=\"exampleInputPassword1\" class=\"form-label\">\n            Content\n          </label>\n          <input\n            type=\"text\"\n            hidden\n            onChange={(e)=>(e.target.value)}\n            class=\"form-control\"\n            id=\"exampleInputPassword1\"\n            value={content}\n            \n          />\n          <div className=\"editor\">\n            <TextEditor\n              onEditorStateChange={onEditorStateChange}\n              editorState={editorState}\n            />\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"exampleInputPassword1\" class=\"form-label\">\n            Thumbnail\n          </label>\n          <img src={dthumbnail} className=\"my-2\" style={{ 'height': \"10em\" }} />\n          <input type=\"file\"\n            onChange={onThumbnailChange} class=\"form-control\" id=\"exampleInputPassword1\" accept=\"image/*\" />\n\n        </div>\n        <hr />\n        <p>Category</p>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckDefault\"\n            defaultChecked={props.newsitem.isSports}\n            onChange={()=>{setIsSports(!isSports)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckDefault\">\n            Sports\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckChecked1\"\n            defaultChecked={props.newsitem.isBusiness}\n            onChange={()=>{setIsBusiness(!isBusiness)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked1\">\n            Business\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            defaultChecked={props.newsitem.isNational}\n            onChange={()=>{setIsNational(!isNational)}}\n            id=\"flexCheckChecked2\"\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked2\">\n            National\n          </label>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckChecked3\"\n            defaultChecked={props.newsitem.isInternational}\n            onChange={()=>{setIsInternational(!isInternational)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked3\">\n            International\n          </label>\n        </div><hr/>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            id=\"flexCheckChecked3\"\n            defaultChecked={props.newsitem.isBreaking}\n            onChange={()=>{setIsBreaking(!isBreaking)}}\n          />\n          <label class=\"form-check-label\" for=\"flexCheckChecked3\">\n            Breaking\n          </label>\n        </div>\n        <hr />\n\n       \n      </form></div>\n\n\n\n\n\n            <div class=\"modal-footer\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                data-bs-dismiss=\"modal\"\n              >\n                Close\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-success btn-sm \"\n                data-bs-dismiss=\"modal\"\n                onClick={updateNews}\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default NewsItem;\n"]},"metadata":{},"sourceType":"module"}