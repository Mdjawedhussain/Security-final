{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Home.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport NewsCard from \"./News/NewsCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [news, setNews] = useState([]);\n  const [usersavings, setUserSavings] = useState([]);\n  const uid = localStorage.getItem('userid');\n  console.log(uid);\n  const config = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n    }\n  };\n\n  const getNews = () => {\n    axios.get(\"http://localhost:3000/news\", config).then(res => {\n      console.log(res.data.data);\n      setNews(res.data.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const getUser = () => {\n    axios.get(\"http://localhost:3000/customer/\" + uid, config).then(res => {\n      setUserSavings(res.data.data.savelaters);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    getNews();\n    getUser();\n  }, []);\n\n  const callback = () => {\n    getNews();\n    getUser();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"bg-white shadow-sm p-4 my-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa-brands fa-hotjar text-danger\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 55\n      }, this), \" Breaking news\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" bg-white shadow-sm p-2 my-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row p-2\",\n        children: news.map((item, index) => /*#__PURE__*/_jsxDEV(NewsCard, {\n          newsitem: item,\n          usersavings: usersavings,\n          callback: callback\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"qeV0yyyz5O/S6HWMKaAKUASq3ww=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Home.js"],"names":["axios","useEffect","useState","NewsCard","Home","news","setNews","usersavings","setUserSavings","uid","localStorage","getItem","console","log","config","headers","Authorization","getNews","get","then","res","data","catch","e","getUser","savelaters","callback","map","item","index"],"mappings":";;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,iBAArB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAK,CAACC,IAAD,EAAOC,OAAP,IAAgBJ,QAAQ,CAAC,EAAD,CAA7B;AACA,QAAK,CAACK,WAAD,EAAcC,cAAd,IAA8BN,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAMO,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AAEA,QAAMK,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYN,YAAY,CAACC,OAAb,CAAqB,OAArB;AADpB;AADI,GAAf;;AAMF,QAAMM,OAAO,GAAC,MAAI;AAChBjB,IAAAA,KAAK,CAACkB,GAAN,CAAU,4BAAV,EAAwCJ,MAAxC,EAAgDK,IAAhD,CAAsDC,GAAD,IAAS;AAC5DR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACC,IAAJ,CAASA,IAArB;AACAf,MAAAA,OAAO,CAACc,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAP;AACC,KAHH,EAIGC,KAJH,CAIUC,CAAD,IAAO;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAYU,CAAZ;AACD,KANH;AASD,GAVD;;AAYA,QAAMC,OAAO,GAAC,MAAI;AAChBxB,IAAAA,KAAK,CAACkB,GAAN,CAAU,oCAAkCT,GAA5C,EAAiDK,MAAjD,EAAyDK,IAAzD,CAA+DC,GAAD,IAAS;AAErEZ,MAAAA,cAAc,CAACY,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcI,UAAf,CAAd;AACC,KAHH,EAIGH,KAJH,CAIUC,CAAD,IAAO;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAYU,CAAZ;AACD,KANH;AAQD,GATD;;AAWAtB,EAAAA,SAAS,CAAC,MAAI;AACZgB,IAAAA,OAAO;AACPO,IAAAA,OAAO;AACR,GAHQ,EAGP,EAHO,CAAT;;AAKA,QAAME,QAAQ,GAAC,MAAI;AACjBT,IAAAA,OAAO;AACPO,IAAAA,OAAO;AAER,GAJD;;AAUE,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACM;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA,8BAA4C;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,YADN,eAEI;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,kBAEGnB,IAAI,CAACsB,GAAL,CAAS,CAACC,IAAD,EAAOC,KAAP,kBACR,QAAC,QAAD;AAAsB,UAAA,QAAQ,EAAED,IAAhC;AAAsC,UAAA,WAAW,EAAErB,WAAnD;AAAgE,UAAA,QAAQ,EAAEmB;AAA1E,WAAeG,KAAf;AAAA;AAAA;AAAA;AAAA,gBADD;AAFH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD,CAnED;;GAAMzB,I;;KAAAA,I;AAqEN,eAAeA,IAAf","sourcesContent":["\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport NewsCard from \"./News/NewsCard\";\n\nconst Home = () => {\n  const[news, setNews]=useState([])\n  const[usersavings, setUserSavings]=useState([])\n  const uid = localStorage.getItem('userid')\n  console.log(uid)\n\n  const config = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n    }\n  }\n\nconst getNews=()=>{\n  axios.get(\"http://localhost:3000/news\", config).then((res) => {\n    console.log(res.data.data)\n    setNews(res.data.data)\n    })\n    .catch((e) => {\n      console.log(e)\n    });\n\n\n}\n\nconst getUser=()=>{\n  axios.get(\"http://localhost:3000/customer/\"+uid, config).then((res) => {\n    \n    setUserSavings(res.data.data.savelaters)\n    })\n    .catch((e) => {\n      console.log(e)\n    });\n\n}\n\nuseEffect(()=>{\n  getNews();\n  getUser();\n},[])\n\nconst callback=()=>{\n  getNews();\n  getUser();\n\n}\n\n\n\n\n\n  return (\n    <div className=\"container\">\n          <h3 className=\"bg-white shadow-sm p-4 my-2\"><i className=\"fa-brands fa-hotjar text-danger\"></i> Breaking news</h3>\n        <div className=\" bg-white shadow-sm p-2 my-2\">\n          <div className=\"row p-2\">\n\n            {news.map((item, index)=>(\n              <NewsCard key={index} newsitem={item} usersavings={usersavings} callback={callback}/>\n            )\n            )}\n          </div>\n         \n        </div>\n        \n        \n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}