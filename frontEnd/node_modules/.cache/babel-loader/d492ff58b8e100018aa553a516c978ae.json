{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const customerLogin = e => {\n    e.preventDefault(); // stop the default behaviour is refresh\n\n    const cusData = {\n      username,\n      password\n    };\n    axios.post(\"http://localhost:3000/customer/login\", cusData).then(result => {\n      if (result.data.token) {\n        localStorage.clear();\n\n        if (result.data.username === \"admin\") {\n          alert(result.data.username);\n          localStorage.setItem(\"token\", result.data.token);\n          localStorage.setItem(\"admin\", true);\n          localStorage.setItem(\"userid\", result.data._id);\n          localStorage.setItem(\"username\", result.data.username);\n          toast.success(\"Login Success as admin !!!!\");\n          window.location.replace(\"/admin\");\n        } else {\n          localStorage.setItem(\"token\", result.data.token);\n          localStorage.setItem(\"userid\", result.data._id);\n          localStorage.setItem(\"username\", result.data.username);\n          toast.success(\"Login Success as user !!!!\");\n          window.location.replace(\"/\");\n        }\n      } else {\n        ///invalid\n        setMessage(\"Failed To login! try again\"); // alert(\"Invalid credentials! \")\n\n        toast.error(\"Invalid credentials!\");\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-7 p-5 shadow-sm bg-white my-5 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-7 mx-auto my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa-brands fa-old-republic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), \" Easy News | Login\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center\",\n            children: \"Enter your username and password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-floating mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              placeholder: \"Enter Your Name\",\n              id: \"username\",\n              value: username,\n              onChange: e => setUsername(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"floatingInput\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-floating\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              class: \"form-control\",\n              placeholder: \"Your Password\",\n              id: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"floatingPassword\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-3 mx-auto my-4\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Log In\",\n              class: \"btn col-lg-12 btn-info text-white\",\n              onClick: customerLogin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"2DGI8GifhxRrG/S0syAYJxJ+i5A=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/oem/Documents/Api/task1-web-api-front-endMdjawedhussain/src/components/Login.js"],"names":["axios","useState","toast","useNavigate","Login","navigate","username","setUsername","password","setPassword","message","setMessage","customerLogin","e","preventDefault","cusData","post","then","result","data","token","localStorage","clear","alert","setItem","_id","success","window","location","replace","error","catch","console","log","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const customerLogin = (e) => {\n    e.preventDefault(); // stop the default behaviour is refresh\n    const cusData = {\n      username,\n      password,\n    };\n    axios\n      .post(\"http://localhost:3000/customer/login\", cusData)\n      .then((result) => {\n        if (result.data.token) {\n          localStorage.clear();\n\n          if (result.data.username === \"admin\") {\n            alert(result.data.username);\n            localStorage.setItem(\"token\", result.data.token);\n            localStorage.setItem(\"admin\", true);\n            localStorage.setItem(\"userid\", result.data._id);\n            localStorage.setItem(\"username\", result.data.username);\n            toast.success(\"Login Success as admin !!!!\");\n            window.location.replace(\"/admin\");\n          } else {\n            localStorage.setItem(\"token\", result.data.token);\n            localStorage.setItem(\"userid\", result.data._id);\n            localStorage.setItem(\"username\", result.data.username);\n\n\n            toast.success(\"Login Success as user !!!!\");\n            window.location.replace(\"/\");\n          }\n        } else {\n          ///invalid\n          setMessage(\"Failed To login! try again\");\n          // alert(\"Invalid credentials! \")\n          toast.error(\"Invalid credentials!\");\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"col-lg-7 p-5 shadow-sm bg-white my-5 mx-auto\">\n          <div className=\"col-lg-7 mx-auto my-4\">\n            <h3 className=\"text-center\">\n              <i class=\"fa-brands fa-old-republic\"></i> Easy News | Login{\" \"}\n            </h3>\n            <hr />\n            <p className=\"text-center\">Enter your username and password</p>\n          </div>\n          <div className=\"my-5\">\n            <div class=\"form-floating mb-3\">\n            <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      placeholder=\"Enter Your Name\"\n                      id=\"username\"\n                      value={username}\n                      onChange={(e) => setUsername(e.target.value)}\n                    />\n              <label for=\"floatingInput\">Username</label>\n            </div>\n            <div class=\"form-floating\">\n            <input\n                      type=\"password\"\n                      class=\"form-control\"\n                      placeholder=\"Your Password\"\n                      id=\"password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n              <label for=\"floatingPassword\">Password</label>\n            </div>\n            <div className=\"col-lg-3 mx-auto my-4\">\n            <input\n                    type=\"submit\"\n                    value=\"Log In\"\n                    class=\"btn col-lg-12 btn-info text-white\"\n                    onClick={customerLogin}\n                  />\n            </div>\n          </div>\n        </div>\n      </div>\n\n     \n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}